<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Register</title>
	<link rel="stylesheet" href="assets/css/login.css">
</head>

<body>

	<main>
		<section class="login">
			<h4>Register</h4>
			<form class="input" action="#">
				<label for="nane">
					<img src="assets/icons/login_email.png" alt="name">
					<input id="name" type="text" placeholder="Enter name...">
				</label>
				<label for="email">
					<img src="assets/icons/login_email.png" alt="email">
					<input id="email" type="email" placeholder="Enter email...">
				</label>
				<label for="password">
					<img src="assets/icons/login_password.png" alt="password">
					<input id="password" type="password" placeholder="Enter password...">
				</label>
				<label for="confirm-password">
					<img src="assets/icons/login_password.png" alt="confirm-password">
					<input id="confirm_password" type="password" placeholder="Confirm password...">
				</label>
				<button id="submit">Register</button>
			</form>
			<p>
				Already have an account? <a href="#">Sign in</a>
			</p>
		</section>
		<section class="banner">
			<img src="assets/images/login_bg.png" alt="">
		</section>
	</main>

	<script>
		document.getElementById('submit').addEventListener('click', async () => {
			const name = document.getElementById('name').value;
			const email = document.getElementById('email').value;
			const password = document.getElementById('password').value;
			const confirmPassword = document.getElementById('confirm_password').value;

			if (password !== confirmPassword) {
				alert("Passwords don't match!");
				return;
			}

			try {
				const res = await fetch('user_signup.php', {
					method: 'POST',
					headers: { 'Content-Type': 'application/json' },
					body: JSON.stringify({ name, email, password })
				});

				const data = await res.json();

				console.log(data)

			} catch (err) {
				console.error(err);
				alert("Something went wrong.");
			}
		});
	</script>


</body>

</html>